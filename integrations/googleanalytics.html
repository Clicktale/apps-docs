
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Google Analytics Â· Clicktale for Apps</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="mixpanel.html" />
    
    
    <link rel="prev" href="crashlytics.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    General
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="../general/data-types.html">
            
                <a href="../general/data-types.html">
            
                    
                    Data Types
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.2" data-path="../general/performance.html">
            
                <a href="../general/performance.html">
            
                    
                    Performance
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.3" data-path="../general/hybrid-applications.html">
            
                <a href="../general/hybrid-applications.html">
            
                    
                    Hybrid Applications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.4" data-path="../general/cordova.html">
            
                <a href="../general/cordova.html">
            
                    
                    Cordova Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.1.5" data-path="../general/faq.html">
            
                <a href="../general/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    iOS
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../ios/getting-started.html">
            
                <a href="../ios/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../ios/privacy.html">
            
                <a href="../ios/privacy.html">
            
                    
                    Privacy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../ios/swift-integration.html">
            
                <a href="../ios/swift-integration.html">
            
                    
                    Swift Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../ios/using-events.html">
            
                <a href="../ios/using-events.html">
            
                    
                    Using Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../ios/push-notifications.html">
            
                <a href="../ios/push-notifications.html">
            
                    
                    Push Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../ios/advanced-features.html">
            
                <a href="../ios/advanced-features.html">
            
                    
                    Advanced Features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    Android
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../android/getting-started.html">
            
                <a href="../android/getting-started.html">
            
                    
                    Getting Started
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../android/privacy.html">
            
                <a href="../android/privacy.html">
            
                    
                    Privacy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../android/kotlin-integration.html">
            
                <a href="../android/kotlin-integration.html">
            
                    
                    Kotlin Integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../android/using-events.html">
            
                <a href="../android/using-events.html">
            
                    
                    Using Events
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../android/push-notifications.html">
            
                <a href="../android/push-notifications.html">
            
                    
                    Push Notifications
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="../android/advanced-features.html">
            
                <a href="../android/advanced-features.html">
            
                    
                    Advanced Features
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    Heatmaps
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../heatmaps/setting-up-heatmaps.html">
            
                <a href="../heatmaps/setting-up-heatmaps.html">
            
                    
                    Setting up Heatmaps
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../heatmaps/using-heatmaps.html">
            
                <a href="../heatmaps/using-heatmaps.html">
            
                    
                    Using Heatmaps
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    Working with Other SDKs
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="about-integrations.html">
            
                <a href="about-integrations.html">
            
                    
                    About Data Synchronization
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="adobeanalytics.html">
            
                <a href="adobeanalytics.html">
            
                    
                    Adobe Analytics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="crashlytics.html">
            
                <a href="crashlytics.html">
            
                    
                    Crashlytics
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.5.4" data-path="googleanalytics.html">
            
                <a href="googleanalytics.html">
            
                    
                    Google Analytics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="mixpanel.html">
            
                <a href="mixpanel.html">
            
                    
                    Mixpanel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="apptentive.html">
            
                <a href="apptentive.html">
            
                    
                    Apptentive
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="appdynamics.html">
            
                <a href="appdynamics.html">
            
                    
                    AppDynamics
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="newrelic.html">
            
                <a href="newrelic.html">
            
                    
                    New Relic
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="splunkmint.html">
            
                <a href="splunkmint.html">
            
                    
                    Splunk Mint
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Google Analytics</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="google-analytics-integration">Google Analytics Integration</h1>
<p>When using both Clicktale for Apps and Google Analytics, you can now integrate the platforms and be able to see for each user session, an event leading to the corresponding session inside Clicktale.</p>
<p>In order to activate the integration, you will be using Google Analytics event tracking feature as described in their API.</p>
<p>Google&apos;s events are built as Category, Action and Label.</p>
<p>We will be using the following:</p>
<ul>
<li><strong>Category:</strong> Clicktale</li>
<li><strong>Action:</strong> Session</li>
<li><strong>Label:</strong> [the session url] - we will describe how to obtain that below</li>
</ul>
<p>In Clicktale for Apps, when a session begins, which may be on first activation (&#x2018;splash screen&#x2019; like) or when resuming from background after some time of inactivity, a delegate is used to signal that a new session has begun. At that point you should be sending Google the event data.</p>
<p>The delegate function should be used like this for iOS:</p>
<pre><code class="lang-objectivec">-(<span class="hljs-keyword">void</span>)clicktaleDidSessionURLCreated:(<span class="hljs-built_in">NSString</span> *)sessionLink
{ 
    <span class="hljs-comment">// May return nil if a tracker has not already been initialized with a property ID.</span>
    <span class="hljs-keyword">id</span>&lt;GAITracker&gt; tracker = [[GAI sharedInstance] defaultTracker];
    <span class="hljs-comment">// Build and send an Event with Clicktale URL.</span>
    [tracker send:[[GAIDictionaryBuilder createEventWithCategory:<span class="hljs-string">@&quot;Clicktale&quot;</span>
                                                          action:<span class="hljs-string">@&quot;Session&quot;</span>
                                                           label:sessionLink
                                                           value:<span class="hljs-literal">nil</span>] build]];
}
</code></pre>
<p>Or like this for Android:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSessionURLCreated</span><span class="hljs-params">(String sessionLink)</span> </span>{ 
    <span class="hljs-comment">// Get tracker.</span>
    Tracker t = ((AnalyticsSampleApp) getActivity().getApplication()).getTracker(TrackerName.APP_TRACKER);
    <span class="hljs-comment">// Build and send an Event with Clicktale URL.</span>
    t.send(<span class="hljs-keyword">new</span> HitBuilders.EventBuilder()
        .setCategory(<span class="hljs-string">&quot;Clicktale&quot;</span>)
        .setAction(<span class="hljs-string">&quot;Session&quot;</span>)
        .setLabel(sessionLink)
        .setNonInteraction(<span class="hljs-keyword">true</span>)
        .build());
}
</code></pre>
<p>Inside Google, you can later see a new Event with the details as entered, and the label will be the link to access the Clicktale recording page for that session.</p>
<h2 id="define-a-new-custom-dimension">Define a new custom dimension</h2>
<p>It is also possible to define a new custom dimension, and then use the event data inside reports.
This is only required upon your own usage and the way you work with Google Analytics.</p>
<p>In order to create a new custom dimension, you can follow this <a href="https://support.google.com/analytics/answer/2709829" target="_blank">article</a>.</p>
<p>You can call the dimension Clicktale Apps URL, you will need the dimension ID (also called dimension index) in order to use the Google Analytics SDK to send the data.</p>
<p>In a similar way to the event integration above, you will need to send Google Analytics the session URL as shown in the example below.</p>
<pre><code class="lang-objectivec">-(<span class="hljs-keyword">void</span>)clicktaleDidSessionURLCreated:(<span class="hljs-built_in">NSString</span> *)sessionLink
{ 
    <span class="hljs-comment">// May return nil if a tracker has not already been initialized with a property ID.</span>
    <span class="hljs-keyword">id</span>&lt;GAITracker&gt; tracker = [[GAI sharedInstance] defaultTracker];
    <span class="hljs-comment">// Set the custom dimension data</span>
    [tracker set:[GAIFields customDimensionForIndex:X]
           value:sessionLink];
    <span class="hljs-comment">// Build and send an Event with Clicktale URL.</span>
    [tracker send:[[GAIDictionaryBuilder createEventWithCategory:<span class="hljs-string">@&quot;Clicktale&quot;</span>
                                                          action:<span class="hljs-string">@&quot;Session&quot;</span>
                                                           label:sessionLink
                                                           value:<span class="hljs-literal">nil</span>] build]];
}
</code></pre>
<p>Or like this for Android:</p>
<pre><code class="lang-java"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onSessionURLCreated</span><span class="hljs-params">(String sessionLink)</span> </span>{ 
    <span class="hljs-comment">// Get tracker.</span>
    Tracker t = ((AnalyticsSampleApp) getActivity().getApplication()).getTracker(TrackerName.APP_TRACKER);
    <span class="hljs-comment">// Build and send an Event with Clicktale URL.</span>
    t.send(<span class="hljs-keyword">new</span> HitBuilders.EventBuilder()
        .setCategory(<span class="hljs-string">&quot;Clicktale&quot;</span>)
        .setAction(<span class="hljs-string">&quot;Session&quot;</span>)
        .setLabel(sessionLink)
        .setNonInteraction(<span class="hljs-keyword">true</span>)
        .setCustomDimension(X, sessionLink)
        .build());
}
</code></pre>
<blockquote>
<p>Remember to set the correct dimension index, in the examples above we set it to &apos;X&apos;, it needs to be replaced with the index number of the custom dimension.</p>
</blockquote>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="crashlytics.html" class="navigation navigation-prev " aria-label="Previous page: Crashlytics">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="mixpanel.html" class="navigation navigation-next " aria-label="Next page: Mixpanel">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Google Analytics","level":"1.5.4","depth":2,"next":{"title":"Mixpanel","level":"1.5.5","depth":2,"path":"integrations/mixpanel.md","ref":"integrations/mixpanel.md","articles":[]},"previous":{"title":"Crashlytics","level":"1.5.3","depth":2,"path":"integrations/crashlytics.md","ref":"integrations/crashlytics.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Clicktale for Apps","gitbook":"*"},"file":{"path":"integrations/googleanalytics.md","mtime":"2017-02-13T15:47:48.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-07-27T12:45:07.210Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

